(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{282:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(6),c=n.n(o),l=n(29),i=n(38),u=n(313),d=n(86),s=n(324),f=n(322),p=n(331),m=n(323),b=n(319),h=n(332),g=n(272),y=n.n(g);function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return C(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var E=Object(u.a)({column:{width:272,minHeight:78,height:"100%",padding:5,backgroundColor:"#ebecf0",marginRight:10},header:{padding:"5px 10px"}}),I={children:c.a.node,data:c.a.shape({id:c.a.string,title:c.a.string}),columnId:c.a.string,onUpdateTitle:c.a.func,onCreateCard:c.a.func,onDeleteColumn:c.a.func};function O(e){var t=e.children,n=e.data,o=e.columnId,c=e.onUpdateTitle,l=e.onCreateCard,i=e.onDeleteColumn,u=E(),g=v(Object(r.useState)(""),2),C=g[0],I=g[1],O=v(Object(r.useState)(!1),2),j=O[0],w=O[1];return Object(r.useEffect)((function(){n&&n.title!==C&&I(n.title)}),[n.title]),a.a.createElement(f.a,{variant:"outlined",className:u.column},a.a.createElement(p.a,{className:u.header,title:a.a.createElement(d.a,{component:"h6",variant:"h6",onClick:function(){return w(!0)}},j?a.a.createElement(m.a,{value:C,onChange:function(e){return I(e.target.value)},onBlur:function(){w(!1),C!==n.title&&c(o,C)},autoFocus:!0}):n.title),action:a.a.createElement(b.a,{onClick:function(){return i(o)}},a.a.createElement(y.a,null))}),t,a.a.createElement(h.a,null,a.a.createElement(s.a,{fullWidth:!0,onClick:function(){return l(o)},color:"primary"},"Create New Card")))}O.propTypes=I,O.defaultProps={onUpdateTitle:function(){},onCreateCard:function(){},onDeleteColumn:function(){},data:{}};var j=O,w=n(335),A=n(328),x=n(266),S=n(327),T=n(279),N=n.n(T),k=n(5);function U(){return(U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function P(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var D=Object(k.a)((function(e){return{root:{margin:0,padding:e.spacing(2)},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))((function(e){var t=e.children,n=e.classes,r=e.onClose,o=P(e,["children","classes","onClose"]);return a.a.createElement(S.a,U({disableTypography:!0,className:n.root},o),a.a.createElement(d.a,{variant:"h6"},t),r?a.a.createElement(b.a,{"aria-label":"close",className:n.closeButton,onClick:r},a.a.createElement(N.a,null)):null)})),H=n(280),R=n.n(H);function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var M=Object(u.a)({textArea:{width:"100%",overflow:"hidden",overflowWrap:"break-word",minHeight:300}}),W={isVisible:c.a.bool.isRequired,title:c.a.string,content:c.a.string,onClose:c.a.func,onUpdateContent:c.a.func};function V(e){var t=e.isVisible,n=e.title,o=e.content,c=e.onClose,l=e.onUpdateContent,i=M(),u=B(Object(r.useState)(!1),2),d=u[0],s=u[1],f=B(Object(r.useState)(""),2),p=f[0],m=f[1];return Object(r.useEffect)((function(){p!==o&&m(o)}),[o]),a.a.createElement(w.a,{open:t,onClose:c,fullWidth:!0,scroll:"paper"},a.a.createElement(D,{onClose:c},n),a.a.createElement(A.a,{dividers:!0},d?a.a.createElement(x.a,{className:i.textArea,value:p,onChange:function(e){return m(e.target.value)},onBlur:function(){s(!1),l(p)},autoFocus:!0}):a.a.createElement("div",{onClick:function(){return s(!0)}},a.a.createElement(R.a,{className:i.textArea,source:p,escapeHtml:!0}))))}V.propTypes=W,V.defaultProps={onClose:function(){},onUpdateContent:function(){}};var $=V;function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,a=!1,o=void 0;try{for(var c,l=e[Symbol.iterator]();!(r=(c=l.next()).done)&&(n.push(c.value),!t||n.length!==t);r=!0);}catch(e){a=!0,o=e}finally{try{r||null==l.return||l.return()}finally{if(a)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=Object(u.a)({card:{width:256,minHeight:60,padding:5,position:"relative"},cardTitle:{cursor:"text"},button:{position:"absolute",right:5,top:16}}),L={data:c.a.shape({id:c.a.string,title:c.a.string,content:c.a.string}),cardId:c.a.string,onUpdate:c.a.func,onDeleteCard:c.a.func};function Y(e){var t=e.data,n=void 0===t?{}:t,o=e.onUpdate,c=e.onDeleteCard,l=e.cardId,u=n.title,s=n.content,h=z(),g=J(Object(r.useState)(u),2),v=g[0],C=g[1],E=J(Object(r.useState)(!1),2),I=E[0],O=E[1],j=J(Object(r.useState)(!1),2),w=j[0],A=j[1];return Object(r.useEffect)((function(){n&&u!==v&&C(u)}),[u]),a.a.createElement(a.a.Fragment,null,a.a.createElement(f.a,{title:v,onClick:function(){return A(!0)},variant:"outlined",className:h.card},a.a.createElement(p.a,{title:a.a.createElement(d.a,{component:"h6",variant:"h6",className:h.cardTitle,onClick:function(e){e.stopPropagation(),O(!0)}},I?a.a.createElement(m.a,{value:v,onChange:function(e){return C(e.target.value)},onBlur:function(){var e=Object(i.a)(n,(function(e){e.title=v}));O(!1),v!==u&&o(l,e)},autoFocus:!0}):v),action:a.a.createElement(b.a,{onClick:c},a.a.createElement(y.a,null))})),a.a.createElement($,{isVisible:w,title:u,content:s,onClose:function(){return A(!1)},onUpdateContent:function(e){var t=Object(i.a)(n,(function(t){t.content=e}));s!==e&&o(l,t)}}))}Y.propTypes=L,Y.defaultProps={onUpdate:function(){},onDeleteCard:function(){}};var G=Y,K=n(283),Q=n(3);function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Z=Q.c.updateDashboardAction,_=Q.e.createTrelloColumnAction,ee=Q.e.updateTrelloColumnsAction,te=Q.e.deleteTrelloColumnAction,ne=Q.e.subscribeTrelloColumnsAction,re=Q.e.unsubscribeTrelloColumnsAction,ae=Q.d.createTrelloCardAction,oe=Q.d.updateTrelloCardsAction,ce=Q.d.deleteTrelloCardAction,le=Q.d.subscriptTrelloCardsAction,ie=Q.d.unsubscriptTrelloCardsAction,ue=Object(u.a)({dashboard:{padding:10,height:"calc(100vh - 64px)"},title:{color:"#fff"},columnDragable:{height:"100%"},content:{width:"100%",display:"flex",overflowY:"scroll",maxHeight:"calc(100% - 56px)"},button:{width:272,padding:5,height:78,whiteSpace:"nowrap",flexShrink:0,backgroundColor:"#fff"}}),de={dashboardId:c.a.string};function se(e){var t=e.dashboardId,n=ue(),o=Object(l.d)((function(e){return e.dashboard})).data,c=Object(l.d)((function(e){return e.trelloColumn})).data,u=Object(l.d)((function(e){return e.trelloCard})).data,f=o[t]?o[t]:{},p=f.columnIds,m=void 0===p?[]:p,b=f.title,h=Object(l.c)();function g(e){h(ae("New Card",e,t))}function y(e,t){h(oe([{cardId:e,card:t}]))}function v(){h(_("New Column",t))}function C(e,t){h(ee([{columnId:e,column:Object(i.a)(c[e],(function(e){e.title=t}))}]))}function E(e){h(te(e))}function I(e,t){return e.map((function(e,n){return a.a.createElement(K.b,{draggableId:e,key:e,index:n},(function(r){return a.a.createElement("div",X({},r.draggableProps,r.dragHandleProps,{ref:r.innerRef}),a.a.createElement(G,{data:u[e],cardId:e,index:n,onUpdate:y,onDeleteCard:function(){return function(e,t){h(ce(e,t))}(e,t)}}))}))}))}return Object(r.useEffect)((function(){return h(ne(t)),function(){return h(re())}}),[t]),Object(r.useEffect)((function(){return h(le(t)),function(){return h(ie())}}),[t]),a.a.createElement("div",{className:n.dashboard},a.a.createElement(d.a,{component:"h1",variant:"h3",className:n.title},b),a.a.createElement(K.a,{onDragEnd:function(e){var n=e.destination,r=e.draggableId,a=e.source,l=e.type;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index)&&("column"===l&&h(Z(t,Object(i.a)(o[t],(function(e){e.columnIds[n.index]=m[a.index],e.columnIds[a.index]=m[n.index]})))),"card"===l)){var u;if(n.droppableId===a.droppableId){var d=c[n.droppableId];u=Object(i.a)(c,(function(e){e[n.droppableId].cardIds[n.index]=d.cardIds[a.index],e[n.droppableId].cardIds[a.index]=d.cardIds[n.index]}))}else u=Object(i.a)(c,(function(e){e[n.droppableId].cardIds.splice(n.index,0,r),e[a.droppableId].cardIds.splice(a.index,1)}));h(ee([{columnId:a.droppableId,column:u[a.droppableId]},{columnId:n.droppableId,column:u[n.droppableId]}]))}}},a.a.createElement(K.c,{droppableId:"droppableId",direction:"horizontal",type:"column"},(function(e){return a.a.createElement("div",X({className:n.content,ref:e.innerRef},e.droppableProps),m.map((function(e,t){return a.a.createElement(K.b,{draggableId:e,key:e,index:t},(function(t){return a.a.createElement("div",X({},t.draggableProps,t.dragHandleProps,{ref:t.innerRef,className:n.columnDragable}),a.a.createElement(K.c,{droppableId:e,type:"card"},(function(t){return a.a.createElement("div",X({className:n.content,ref:t.innerRef},t.droppableProps),a.a.createElement(j,{data:c[e],columnId:e,onCreateCard:g,onUpdateTitle:C,onDeleteColumn:E},I(c[e]?c[e].cardIds:[],e),t.placeholder))})))}))})),e.placeholder,a.a.createElement(s.a,{onClick:v,className:n.button,variant:"contained"},"CREATE NEW COLUMN"))}))))}se.propTypes=de;var fe=se,pe=n(12),me={match:c.a.object};function be(e){var t=e.match.params.dashboardId;return a.a.createElement(fe,{title:"Dashboard",dashboardId:t})}be.propTypes=me;t.default=Object(pe.g)(be)}}]);